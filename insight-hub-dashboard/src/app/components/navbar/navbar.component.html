<button class="hamburger" *ngIf="!sidebarVisible" (click)="toggleSidebar()">â˜°</button>

<nav class="navbar" [class.show]="sidebarVisible">
  <button class="close-btn" *ngIf="sidebarVisible" (click)="toggleSidebar()">âœ–</button>

  <div class="navbar-top">
    <div class="brand">ðŸ“Š Insight Hub</div>
    <app-loading-spinner *ngIf="loading" class="sidebar-spinner"></app-loading-spinner>

    <div class="nav-section">
      <!-- Dashboard (always visible, exact match) -->
      <a
        routerLink="/entry"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="toggleSidebar()"
      >
        <i class="fa-solid fa-table-columns"></i>
        Dashboard
      </a>

      <!-- Only show when on one of the three sensor pages -->
      <div class="sub-nav" *ngIf="showSubMenu">
        <a routerLink="/traffic"       routerLinkActive="active" (click)="toggleSidebar()">
          <i class="fa-solid fa-car"></i> Traffic Sensor
        </a>
        <a routerLink="/environmental"  routerLinkActive="active" (click)="toggleSidebar()">
          <i class="fa-solid fa-leaf"></i> Air Pollution Sensor
        </a>
        <a routerLink="/street-light"   routerLinkActive="active" (click)="toggleSidebar()">
          <i class="fa-solid fa-lightbulb"></i> Street Light Sensor
        </a>
      </div>

      <a routerLink="/alerts" routerLinkActive="active" (click)="toggleSidebar()">
        <i class="fa-solid fa-bell"></i> Alerts
      </a>
    </div>

    <div class="nav-section">
      <div class="section-title">SYSTEM</div>
      <a routerLink="/profile" routerLinkActive="active" (click)="toggleSidebar()">
        <i class="fa-solid fa-user"></i> Profile
      </a>
      <a routerLink="/settings" routerLinkActive="active" (click)="toggleSidebar()">
        <i class="fa-solid fa-gear"></i> Settings
      </a>
      <a routerLink="/help" routerLinkActive="active">
        <i class="fa-solid fa-circle-info"></i> Help & Support
      </a>
      <a (click)="signOut()" class="signout-link">
        <i class="fa-solid fa-right-from-bracket"></i> Sign Out
      </a>
    </div>
  </div>

  <div class="system-status">
    <div class="status-dot"></div>
    <span>All systems operational</span>
  </div>
</nav>
